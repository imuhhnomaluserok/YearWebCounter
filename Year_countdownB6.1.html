
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Year_countdownB6.2-Fixed - Full Complete Edition</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(135deg, #1b2735, #090a0f);
  color: white;
  overflow-x: hidden;
  transition: background 0.5s, color 0.5s;
}
.navbar {
  position: fixed; top: 0; left: 0; width: 100%;
  background: rgba(0,0,0,0.6); display: flex; justify-content: center;
  padding: 10px; z-index: 12000;
}
.navbar button {
  margin: 0 6px; padding: 8px 15px;
  border: 1px solid white; background: rgba(255,255,255,0.1);
  color: white; border-radius: 6px; cursor: pointer;
}
.navbar button:hover { background: rgba(255,255,255,0.3); }
.section { display: none; justify-content: center; align-items: center;
  flex-direction: column; height: 100vh; text-align: center; }
.active { display: flex; }
.countdown-container {
  position: absolute; top: 15%; left: 50%; transform: translateX(-50%);
  text-align: center; max-width: 600px; z-index: 9999;
}
.countdown-container h1 { font-size: 2.5em; }
.result { font-size: 1.5em; margin-top: 15px; }
button {
  cursor: pointer; background: rgba(255,255,255,0.1); border: 1px solid #fff;
  color: white; border-radius: 8px; padding: 10px 20px; margin: 5px; transition: 0.3s;
}
button:hover { background: rgba(255,255,255,0.3); }
.modal {
  display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.7); justify-content: center; align-items: center; z-index: 99999;
}
.modal-content {
  background: rgba(30,30,30,0.95); color: white; padding: 20px;
  border-radius: 12px; width: 300px; text-align: center;
  box-shadow: 0 0 20px rgba(255,255,255,0.2);
}
.modal-content button { margin-top: 10px; width: 80%; }
.lang-buttons {
  position: fixed; top: 15px; right: 15px; z-index: 13000;
}
.lang-buttons button {
  background: rgba(255,255,255,0.15); border: 1px solid #fff; color: #fff;
  border-radius: 6px; margin-left: 6px; padding: 4px 10px;
}
footer {
  position: fixed; bottom: 5px; right: 10px; font-size: 0.8em; opacity: 0.7;
}
</style>
</head>
<body>

<div class="navbar">
  <button onclick="showSection('countdown')">â° Countdown</button>
  <button onclick="showSection('games')">ğŸ® Games</button>
  <button onclick="showSection('calculator')">ğŸ§® Calculator</button>
  <button onclick="showSection('music')">ğŸµ Music</button>
  <button onclick="showSection('achievements')">ğŸ† Achievements</button>
  <button onclick="openSettings()">âš™ï¸ Settings</button>
</div>

<div class="lang-buttons">
  <button onclick="changeLanguage('ja')">ğŸ‡¯ğŸ‡µ</button>
  <button onclick="changeLanguage('en')">ğŸ‡ºğŸ‡¸</button>
</div>

<div id="countdown" class="section active">
  <div class="countdown-container">
    <h1 data-i18n="title">â° å¹´ã¾ã§ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³</h1>
    <input type="number" id="yearInput" placeholder="ä¾‹: 2030" min="2025" max="2100">
    <button data-i18n="calculate" onclick="calculateCountdown()">è¨ˆç®—ã™ã‚‹</button>
    <div id="result" class="result"></div>
  </div>
</div>

<!-- ã‚²ãƒ¼ãƒ ã‚»ãƒ³ã‚¿ãƒ¼ -->
<div id="games" class="section">
  <h2>ğŸ® Game Center</h2>
  <p>ãƒ—ãƒ¬ã‚¤ã™ã‚‹ã‚²ãƒ¼ãƒ ã‚’é¸ã‚“ã§ãã ã•ã„</p>
  <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:10px;">
    <button onclick="startGame('clicker')">ğŸ–± ã‚¯ãƒªãƒƒã‚¯ã‚¯ãƒªãƒƒã‚«ãƒ¼</button>
    <button onclick="startGame('2048')">ğŸ§© 2048</button>
    <button onclick="startGame('minesweeper')">ğŸ’£ ãƒã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘</button>
    <button onclick="startGame('flappy')">ğŸ¦ ãƒ•ãƒ©ãƒƒãƒ”ãƒ¼ãƒãƒ¼ãƒ‰</button>
  </div>
  <div id="gameArea" style="margin-top:20px;"></div>
</div>

<div id="calculator" class="section"></div>
<div id="music" class="section"></div>
<div id="achievements" class="section"></div>

<div id="settingsModal" class="modal">
  <div class="modal-content">
    <h2>âš™ï¸ è¨­å®š / Settings</h2>
    <label><input type="checkbox" id="darkModeCheck"> ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒ</label><br><br>
    <label>éŸ³é‡: <input type="range" id="volumeSlider" min="0" max="100" value="70"></label><br><br>
    <button onclick="clearAllData()" style="background:red;">âš ï¸ ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¶ˆå»</button><br>
    <button onclick="closeModal('settingsModal')">é–‰ã˜ã‚‹</button>
  </div>
</div>

<footer>Created by GPT_Code â€” Special Thanks: Claude</footer>

<script>
const translations={ja:{title:"â° å¹´ã¾ã§ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³",calculate:"è¨ˆç®—ã™ã‚‹",newyear:"ğŸ‰ ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ï¼"},en:{title:"â° Countdown to the New Year",calculate:"Calculate",newyear:"ğŸ‰ Happy New Year!"}};
let currentLang=localStorage.getItem("lang")||"ja";
function t(k){return translations[currentLang][k]||k;}
function changeLanguage(lang){currentLang=lang;localStorage.setItem("lang",lang);updateUI();}
function updateUI(){document.querySelectorAll("[data-i18n]").forEach(e=>{e.textContent=t(e.getAttribute("data-i18n"));});}
function showSection(id){document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}
function openSettings(){document.getElementById("settingsModal").style.display="flex";}
function closeModal(id){document.getElementById(id).style.display="none";}
function clearAllData(){if(confirm("âš ï¸ æœ¬å½“ã«ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")){localStorage.clear();alert("ğŸ§¹ ãƒ‡ãƒ¼ã‚¿ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã—ãŸï¼");location.reload();}}

let countdownTimer=null;
function calculateCountdown(){
  const year=parseInt(document.getElementById("yearInput").value);
  if(!year||year<2025)return;
  const target=new Date(`Jan 1, ${year} 00:00:00`).getTime();
  if(countdownTimer)clearInterval(countdownTimer);
  updateCountdown(target);
  countdownTimer=setInterval(()=>updateCountdown(target),1000);
}
function updateCountdown(target){
  const now=new Date().getTime();
  const diff=target-now;
  if(diff<=0){
    clearInterval(countdownTimer);
    document.getElementById("result").textContent=t("newyear");
    playNewYearSound();
    unlockAchievement("åˆã‚ã¦ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³");
    return;
  }
  const d=Math.floor(diff/(1000*60*60*24));
  const h=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const m=Math.floor((diff%(1000*60*60))/(1000*60));
  const s=Math.floor((diff%(1000*60))/1000);
  document.getElementById("result").textContent=`${d}æ—¥ ${h}æ™‚é–“ ${m}åˆ† ${s}ç§’`;
}
document.addEventListener("click",()=>{if(!window.mainAudioCtx){window.mainAudioCtx=new (window.AudioContext||window.webkitAudioContext)();}}, {once:true});
function playNewYearSound(){
  if(!window.mainAudioCtx)return;
  const ctx=window.mainAudioCtx;
  const o=ctx.createOscillator(),g=ctx.createGain();
  o.connect(g);g.connect(ctx.destination);
  o.type="sine";o.frequency.value=523.25;
  g.gain.setValueAtTime(0.2,ctx.currentTime);
  g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+1);
  o.start(ctx.currentTime);o.stop(ctx.currentTime+1);
}

/* === ã‚²ãƒ¼ãƒ é–¢é€£ === */
let clickCount=0;let gameInterval=null;
function startGame(game){
  const area=document.getElementById("gameArea");
  area.innerHTML="";
  clearInterval(gameInterval);
  switch(game){
    case"clicker":startClicker(area);break;
    case"2048":start2048(area);break;
    case"minesweeper":startMinesweeper(area);break;
    case"flappy":startFlappy(area);break;
  }
}
function startClicker(a){a.innerHTML=`<h3>ğŸ’¥ ã‚¯ãƒªãƒƒã‚¯ã§ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ï¼</h3><button id="clickBtn" style="font-size:1.5em;padding:20px;">Click!</button><div id="clickScore" style="margin-top:10px;">Score: 0</div>`;document.getElementById("clickBtn").onclick=()=>{clickCount++;document.getElementById("clickScore").textContent=`Score: ${clickCount}`;if(clickCount===100)unlockAchievement("ã‚¯ãƒªãƒƒã‚¯å¥½ã");if(clickCount===1000)unlockAchievement("ã‚¯ãƒªãƒƒã‚¯ç‹‚");if(clickCount===10000)unlockAchievement("ã¨ã£ã¦ã‚‚æš‡äºº");};}
function start2048(a){a.innerHTML=`<canvas id="game2048" width="240" height="240" style="background:#222;border:2px solid #555;"></canvas><p>çŸ¢å°ã‚­ãƒ¼ã§æ“ä½œ</p>`;const ctx=document.getElementById("game2048").getContext("2d");let g=Array(4).fill().map(()=>Array(4).fill(0));function rL(m){return m[0].map((_,i)=>m.map(r=>r[3-i]));}function rR(m){return m[0].map((_,i)=>m.map(r=>r[i]).reverse());}function spawn(){let e=[];for(let y=0;y<4;y++)for(let x=0;x<4;x++)if(!g[y][x])e.push([x,y]);if(!e.length)return;const[x,y]=e[Math.floor(Math.random()*e.length)];g[y][x]=Math.random()<0.9?2:4;}function draw(){ctx.clearRect(0,0,240,240);for(let y=0;y<4;y++)for(let x=0;x<4;x++){const v=g[y][x];ctx.fillStyle=v?`hsl(${Math.log2(v)*30},80%,60%)`:"#333";ctx.fillRect(x*60+2,y*60+2,56,56);if(v){ctx.fillStyle="#fff";ctx.font="20px sans-serif";ctx.fillText(v,x*60+22,y*60+38);}}}function move(dir){if(dir==="ArrowUp")g=rL(g);if(dir==="ArrowDown")g=rR(g);if(dir==="ArrowRight")g=g.map(r=>r.reverse());g=g.map(r=>{const n=r.filter(x=>x);for(let i=0;i<n.length-1;i++){if(n[i]===n[i+1]){n[i]*=2;n.splice(i+1,1);}}while(n.length<4)n.push(0);return n;});if(dir==="ArrowUp")g=rR(g);if(dir==="ArrowDown")g=rL(g);if(dir==="ArrowRight")g=g.map(r=>r.reverse());}spawn();spawn();draw();window.onkeydown=e=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)){const before=JSON.stringify(g);move(e.key);if(JSON.stringify(g)!==before){spawn();draw();}}};}
function startMinesweeper(a){const size=5,mines=5;const grid=Array(size).fill().map(()=>Array(size).fill(0));for(let i=0;i<mines;i++){let x,y;do{x=Math.floor(Math.random()*size);y=Math.floor(Math.random()*size);}while(grid[y][x]===9);grid[y][x]=9;}for(let y=0;y<size;y++)for(let x=0;x<size;x++){if(grid[y][x]===9)continue;let n=0;for(let yy=-1;yy<=1;yy++)for(let xx=-1;xx<=1;xx++)if(grid[y+yy]?.[x+xx]===9)n++;grid[y][x]=n;}a.innerHTML=`<div id="mineGrid" style="display:grid;grid-template-columns:repeat(${size},40px);gap:4px;"></div>`;const gEl=document.getElementById("mineGrid");for(let y=0;y<size;y++)for(let x=0;x<size;x++){const b=document.createElement("button");b.style.width="40px";b.style.height="40px";b.onclick=()=>{if(grid[y][x]===9){b.textContent="ğŸ’£";b.style.background="red";alert("ğŸ’¥ Boom!");startMinesweeper(a);}else{b.textContent=grid[y][x]||"";b.disabled=true;}};gEl.appendChild(b);}}
function startFlappy(a){a.innerHTML=`<canvas id="flappy" width="300" height="400" style="background:skyblue;border:2px solid #444;"></canvas>`;const ctx=document.getElementById("flappy").getContext("2d");let y=200,v=0,g=0.5;let pipes=[{x:300,gap:150,top:Math.random()*200+50}];let s=0;function draw(){ctx.fillStyle="skyblue";ctx.fillRect(0,0,300,400);ctx.fillStyle="yellow";ctx.beginPath();ctx.arc(100,y,10,0,Math.PI*2);ctx.fill();pipes.forEach(p=>{ctx.fillStyle="green";ctx.fillRect(p.x,0,30,p.top);ctx.fillRect(p.x,p.top+p.gap,30,400-(p.top+p.gap));});ctx.fillStyle="#fff";ctx.fillText("Score:"+s,10,20);}function up(){v=-7;}function update(){v+=g;y+=v;pipes.forEach(p=>p.x-=2);if(pipes[0].x<-30){pipes.shift();s++;pipes.push({x:300,gap:150,top:Math.random()*200+50});}const hit=pipes.some(p=>100>p.x&&100<p.x+30&&(y<p.top||y>p.top+p.gap));if(y>400||y<0||hit){unlockAchievement("åˆã‚ã¦ã®ãƒ•ãƒ©ãƒƒãƒ”ãƒ¼");clearInterval(gameInterval);alert("Game Over!");}draw();}document.onkeydown=e=>{if(e.code==="Space")up();};gameInterval=setInterval(update,30);}

/* === é›»å“ === */
const calcEl=document.getElementById("calculator");
calcEl.innerHTML=`<h2>ğŸ§® Calculator</h2><div id="calcDisplay" style="font-size:2em;background:rgba(255,255,255,0.1);padding:10px 20px;border-radius:8px;width:200px;text-align:right;">0</div><div id="calcButtons" style="margin-top:10px;display:grid;grid-template-columns:repeat(4,60px);gap:5px;"></div>`;
["7","8","9","/","4","5","6","*","1","2","3","-","0",".","=","+"].forEach(t=>{const b=document.createElement("button");b.textContent=t;b.onclick=()=>calcPress(t);document.getElementById("calcButtons").appendChild(b);});
let calcInput="";function calcPress(v){if(v==="="){try{calcInput=eval(calcInput).toString();unlockAchievement("åˆã‚ã¦ã®è¨ˆç®—");}catch{calcInput="Error";}}else calcInput+=v;document.getElementById("calcDisplay").textContent=calcInput;}

/* === ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ === */
document.getElementById("music").innerHTML=`<h2>ğŸµ Music Player</h2><input type="file" id="musicFile" accept=".mp3,.wav,.ogg"><br><br><button onclick="playMusic()">â–¶ï¸ å†ç”Ÿ</button><button onclick="pauseMusic()">â¸ åœæ­¢</button><button onclick="toggleLoop()">ğŸ” ãƒ«ãƒ¼ãƒ—</button><audio id="audioPlayer" controls style="margin-top:20px;width:80%;"></audio>`;
function playMusic(){const f=document.getElementById("musicFile").files[0];if(f){const u=URL.createObjectURL(f);const a=document.getElementById("audioPlayer");a.src=u;a.play();unlockAchievement("éŸ³æ¥½ã‚’å†ç”Ÿã—ãŸ");}else alert("éŸ³æ¥½ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼");}
function pauseMusic(){document.getElementById("audioPlayer").pause();}
function toggleLoop(){const a=document.getElementById("audioPlayer");a.loop=!a.loop;alert(a.loop?"ãƒ«ãƒ¼ãƒ—å†ç”Ÿ: ON":"ãƒ«ãƒ¼ãƒ—å†ç”Ÿ: OFF");}

/* === å®Ÿç¸¾ === */
let achievements={click100:{name:"ã‚¯ãƒªãƒƒã‚¯å¥½ã",unlocked:false},click1000:{name:"ã‚¯ãƒªãƒƒã‚¯ç‹‚",unlocked:false},click10000:{name:"ã¨ã£ã¦ã‚‚æš‡äºº",unlocked:false},firstCountdown:{name:"åˆã‚ã¦ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³",unlocked:false},firstCalc:{name:"åˆã‚ã¦ã®è¨ˆç®—",unlocked:false},firstFlappy:{name:"åˆã‚ã¦ã®ãƒ•ãƒ©ãƒƒãƒ”ãƒ¼",unlocked:false},firstMusic:{name:"éŸ³æ¥½ã‚’å†ç”Ÿã—ãŸ",unlocked:false}};
if(localStorage.getItem("achievements"))achievements=JSON.parse(localStorage.getItem("achievements"));
function unlockAchievement(n){const k=Object.keys(achievements).find(k=>achievements[k].name===n);if(!k)return;if(achievements[k].unlocked)return;achievements[k].unlocked=true;localStorage.setItem("achievements",JSON.stringify(achievements));showAchievementToast(n);playAchievementSound();renderAchievements();}
function renderAchievements(){const a=document.getElementById("achievements");a.innerHTML="<h2>ğŸ† å®Ÿç¸¾ä¸€è¦§</h2>";const c=document.createElement("div");c.style="display:flex;flex-direction:column;align-items:center;gap:8px;";Object.values(achievements).forEach(x=>{const d=document.createElement("div");d.style=`padding:8px 15px;border-radius:8px;width:250px;text-align:left;background:${x.unlocked?"rgba(255,215,0,0.2)":"rgba(255,255,255,0.1)"};border:1px solid ${x.unlocked?"#FFD700":"#555"};`;d.innerHTML=`${x.unlocked?"ğŸ† ":"ğŸ”’ "}${x.name}`;c.appendChild(d);});a.appendChild(c);}
function showAchievementToast(n){let t=document.getElementById("achievementToast");if(!t){t=document.createElement("div");t.id="achievementToast";t.style=`position:fixed;top:30px;right:30px;background:rgba(30,30,30,0.9);color:white;padding:15px 25px;border-radius:12px;font-size:18px;display:none;align-items:center;gap:10px;z-index:999999;`;document.body.appendChild(t);}t.innerHTML=`ğŸ† å®Ÿç¸¾è§£é™¤: <b>${n}</b>`;t.style.display="flex";t.onmouseenter=()=>{t.style.boxShadow="0 0 10px gold";};t.onmouseleave=()=>{t.style.boxShadow="none";};setTimeout(()=>t.style.display="none",3000);}
function playAchievementSound(){if(!window.mainAudioCtx)return;const c=window.mainAudioCtx;const o1=c.createOscillator(),o2=c.createOscillator(),g=c.createGain();o1.type="triangle";o2.type="sine";o1.frequency.setValueAtTime(660,c.currentTime);o2.frequency.setValueAtTime(880,c.currentTime);g.gain.setValueAtTime(0.15,c.currentTime);g.gain.exponentialRampToValueAtTime(0.001,c.currentTime+1.0);o1.connect(g);o2.connect(g);g.connect(c.destination);o1.start();o2.start();o1.stop(c.currentTime+1);o2.stop(c.currentTime+1);}
window.addEventListener("load",()=>{updateUI();renderAchievements();});
</script>
</body>
</html>
